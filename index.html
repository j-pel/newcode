<!doctype html>
<html>
  <head>
    <title>NewCode: a new way to code</title>
    <meta charset="utf-8"/>
    <link rel="stylesheet" href="../codemirror/lib/codemirror.css">
    <script src="../codemirror/lib/codemirror.js"></script>
    <script src="../codemirror/addon/edit/matchbrackets.js"></script>
    <script src="../codemirror/addon/comment/comment.js"></script>
    <script src="../codemirror/mode/javascript/javascript.js"></script>
    <style type="text/css">
      .CodeMirror {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <script>
      document.addEventListener("keydown", handleKeyDown, false);
      var editor = CodeMirror(document.body, {
        lineNumbers: true,
        matchBrackets: true,
        continueComments: "Enter",
        extraKeys: {"Ctrl-Q": "toggleComment"}
      });
      editor.setValue(
"/* NewCode is a minimalist but full featured online editor\n\
 * whose main goal is to ease coding on touch devices\n\
 * To show available commands, press ctrl-spc\n\
 *                                                          */\n\
");
      editor.setCursor(4,0);
      editor.focus();

      function handleKeyDown(event){
        switch(event.keyCode) {
          case 32:  // Space
            if (event.ctrlKey) {
              console.log("command");
              event.keyCode = 48;
            }
          case 38:  // Up
          case 40:  // Down
            break;
          case 33:  // PgUp
          case 37:  // Left
            break;
          case 34:  // PgDown
          case 39:  // Right
            break;
          default:
            console.log(event);
            break;
        }
      }

    </script>
  </body>
</html>
